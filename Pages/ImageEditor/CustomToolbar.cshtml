@page
@using Syncfusion.EJ2

@{
    var imageTool = new string[] { };
    var fontColorTemplate = "<button id=imageEditor_fontColorBtn></button>";
    var annotationTemplate = "<button id=imageEditor_annotationButton></button>";
    var fillColorTemplate = "<button id=imageEditor_fillColorBtn></button>";
    var strokeColorTemplate = "<button id=imageEditor_borderColorBtn></button>";
    var penColorTemplate = "<button id=imageEditor_penColorBtn></button>";
    var defaultCanvasTemplate = "<div class='filter-wrapper' style='box-sizing: content-box;'><canvas id=" + "imageEditor_defaultCanvas" + "></canvas><div style='text-align:center;'><span>" + "Default" + "</span></div></div>";
    var chromeCanvasTemplate = "<div class='filter-wrapper' style='box-sizing: content-box;'><canvas id=" + "imageEditor_chromeCanvas" + "></canvas><div style='text-align:center;'><span>" + "Chrome" + "</span></div></div>";
    var coldCanvasTemplate = "<div class='filter-wrapper' style='box-sizing: content-box;'><canvas id=" + "imageEditor_coldCanvas" + "></canvas><div style='text-align:center;'><span>" + "Cold" + "</span></div></div>";
    var warmCanvasTemplate = "<div class='filter-wrapper' style='box-sizing: content-box;'><canvas id=" + "imageEditor_warmCanvas" + "></canvas><div style='text-align:center;'><span>" + "Warm" + "</span></div></div>";
    var grayscaleCanvasTemplate = "<div class='filter-wrapper' style='box-sizing: content-box;'><canvas id=" + "imageEditor_grayscaleCanvas" + "></canvas><div style='text-align:center;'><span>" + "GrayScale" + "</span></div></div>";
    var sepiaCanvasTemplate = "<div class='filter-wrapper' style='box-sizing: content-box;'><canvas id=" + "imageEditor_sepiaCanvas" + "></canvas><div style='text-align:center;'><span>" + "Sepia" + "</span></div></div>";
    var invertCanvasTemplate = "<div class='filter-wrapper' style='box-sizing: content-box;'><canvas id=" + "imageEditor_invertCanvas" + "></canvas><div style='text-align:center;'><span>" + "Invert" + "</span></div></div>";
}

@section ControlsSection {

    <div class="col-lg-12 control-section e-img-editor-sample">
        <div class="customToolbar">
            <div class="header">
                <div class="header-details">
                    <div class="header-name">Image Editor</div>
                </div>
            </div>
            <div class="image-preview-container" id="imagePreviewContainer">
                <img src="../images/ImageEditor/bridge.jpg" id="previewImgContainer" class="preview-img-container" alt="previewImage">
                <br>

                <div class="button-container" id="button-container">
                    <ejs-fab id="edit" class="custom-button" iconCss="e-icons e-edit" position="BottomRight" target=".image-preview-container" isPrimary=true content="Edit Image" onclick="editClicked()"></ejs-fab>
                </div>

            </div>
            <div class="image-editor-container" id="image-editor-container" style="display: none;">

                <div id="top-toolbarArea">
                    <ejs-toolbar id="top-toolbar" created="onTopToolbarCreated" clicked="toolbarClicked">
                        <e-toolbar-items>
                            <e-toolbar-item id="cancel" prefixIcon="e-icons e-close" tooltipText="Cancel" align="Center"></e-toolbar-item>
                            <e-toolbar-item id="undo" prefixIcon="e-icons e-undo" tooltipText="Undo" align="Center"></e-toolbar-item>
                            <e-toolbar-item id="redo" prefixIcon="e-icons e-redo" tooltipText="Redo" align="Center"></e-toolbar-item>
                            <e-toolbar-item id="ok" prefixIcon="e-icons e-save" tooltipText="Ok" align="Center"></e-toolbar-item>
                        </e-toolbar-items>
                    </ejs-toolbar>
                </div>

                <div id="imageEditor">
                    <ejs-imageeditor id="image-editor" toolbar="imageTool" created="imageEditorCreated" fileOpened="fileOpened" showQuickAccessToolbar=false shapeChanging="shapeChanging" shapeChange="shapeChange" click="click"></ejs-imageeditor>
                </div>

                <div id="bottom-toolbarArea">
                    <ejs-toolbar id="bottom-toolbar" created="onBottomToolbarCreated" clicked="toolbarClicked">
                        <e-toolbar-items>
                            <e-toolbar-item id="cropAndTransform" prefixIcon="e-icons e-crop" tooltipText="Crop and Transform" align="Center"></e-toolbar-item>
                            <e-toolbar-item id="back" prefixIcon="e-icons e-arrow-left" tooltipText="Back" align="Center" visible=false></e-toolbar-item>
                            <e-toolbar-item id="rotateLeft" prefixIcon="e-icons e-transform-left" tooltipText="Rotate Left" align="Center" visible=false></e-toolbar-item>
                            <e-toolbar-item id="rotateRight" prefixIcon="e-icons e-transform-right" tooltipText="Rotate Right" align="Center" visible=false></e-toolbar-item>
                            <e-toolbar-item id="addText" prefixIcon="e-icons e-text-annotation" tooltipText="Text" align="Center"></e-toolbar-item>
                            <e-toolbar-item id="fontColor" cssClass="top-icon e-text-fontColor" tooltipText="Font Color" align="Center" visible=false type="Input" template=@fontColorTemplate></e-toolbar-item>
                            <e-toolbar-item id="shapes" prefixIcon="top-icon e-shapes" tooltipText="Annotations" align="Center" template=@annotationTemplate></e-toolbar-item>
                            <e-toolbar-item id="fillColor" prefixIcon="top-icon e-copy" cssClass="top-icon e-fill" tooltipText="Fill Color" align="Center" visible=false type="Input" template=@fillColorTemplate></e-toolbar-item>
                            <e-toolbar-item id="strokeColor" prefixIcon="top-icon e-copy" cssClass="top-icon e-stroke" tooltipText="Stroke Color" align="Center" visible=false type="Input" template=@strokeColorTemplate></e-toolbar-item>
                            <e-toolbar-item id="penStrokeColor" prefixIcon="top-icon e-copy" cssClass="top-icon e-pen-stroke-color" tooltipText="Stroke Color" align="Center" visible=false type="Input" template=@penColorTemplate></e-toolbar-item>
                            <e-toolbar-item id="remove" prefixIcon="e-icons e-trash" tooltipText="Remove" align="Center" visible=false disabled=false></e-toolbar-item>
                            <e-toolbar-item id="editText" prefixIcon="e-icons e-annotation-edit" cssClass="top-icon e-annotation-edit" tooltipText="Edit Text" align="Center" visible=false disabled=false></e-toolbar-item>
                            <e-toolbar-item id="addPen" prefixIcon="e-icons e-free-pen" tooltipText="Pen" align="Center"></e-toolbar-item>
                            <e-toolbar-item id="filters" prefixIcon="e-icons e-filters" tooltipText="Filters" align="Center"></e-toolbar-item>
                        </e-toolbar-items>
                    </ejs-toolbar>
                    <ejs-toolbar id="filter-toolbar" clicked="filterImage">
                        <e-toolbar-items>
                            <e-toolbar-item id="default" tooltipText="Default" align="Center" template=@defaultCanvasTemplate></e-toolbar-item>
                            <e-toolbar-item id="chrome" tooltipText="Chrome" align="Center" template=@chromeCanvasTemplate></e-toolbar-item>
                            <e-toolbar-item id="cold" tooltipText="Cold" align="Center" template=@coldCanvasTemplate></e-toolbar-item>
                            <e-toolbar-item id="warm" tooltipText="Warm" align="Center" template=@warmCanvasTemplate></e-toolbar-item>
                            <e-toolbar-item id="grayscale" tooltipText="Grayscale" align="Center" template=@grayscaleCanvasTemplate></e-toolbar-item>
                            <e-toolbar-item id="sepia" tooltipText="Sepia" align="Center" template=@sepiaCanvasTemplate></e-toolbar-item>
                            <e-toolbar-item id="invert" tooltipText="Invert" align="Center" template=@invertCanvasTemplate></e-toolbar-item>
                        </e-toolbar-items>
                    </ejs-toolbar>
                </div>
            </div>
        </div>
    </div>

    <script>
        var popupLeft;
    var image = document.getElementById('previewImgContainer');
    if (ejs.base.Browser.isDevice && image) {
        image.src = '../images/ImageEditor/flower.png';
    }
    var currentToolbar = 'main';
    var activeObjIndex;
    var tempShapeSettings;
    var isShapeCustomizing = false;
    var isTextEditing = false;
    var isShapeSelected = false;
    let filter = 'default';
    var imageData;
    var presetColors = {
        'custom': ['#ffffff', '#000000', '#e91e63', '#9c27b0', '#673ab7', '#2196f3', '#03a9f4', '#00bcd4',
        '#009688', '#8bc34a', '#cddc39', '#ffeb3b']
    };
    ejs.base.EventHandler.add(document, 'keydown', keyDownEventHandler, this);
    ejs.base.EventHandler.add(document.getElementById('image-editor-container'), 'dblclick', doubleClickEvent, this);
    var imageEditorObj;

    function imageEditorCreated() {
        imageEditorObj = ejs.base.getComponent(document.getElementById("image-editor"), 'image-editor');
    }

    function fileOpened() {
        imageData = imageEditorObj.getImageData();
    }

    function shapeChanging(args) {
        if (args.action === 'select') {
            isShapeSelected = isShapeSelected ? false : true;
            updateToolbar(args, true);
        } else if (args.action === 'insert') {
            activeObjIndex = args.currentShapeSettings.id;
            tempShapeSettings = args.currentShapeSettings;
        }
    }

    function shapeChange(args) {
        if (args.action === 'apply' && !isShapeCustomizing) {
            isTextEditing = false;
            setTimeout(function() {
                refreshToolbar('main');
            }, 1);
        }
    }

    function click() {
        if (currentToolbar === 'filter') {
            refreshToolbar('main');
        }
    }

    function editClicked(args) {
        imageEditorObj = ejs.base.getComponent(document.getElementById("image-editor"), 'image-editor');
        document.getElementById('imagePreviewContainer').style.display = 'none';
        document.getElementById('image-editor-container').style.display = 'block';
        imageEditorObj.open(document.getElementById('previewImgContainer').src);
        var toolbarArea = document.getElementById('top-toolbar');
        toolbarArea.style.left = (toolbarArea.parentElement.parentElement.clientWidth / 2) - (toolbarArea.clientWidth / 2) + 'px';
        toolbarArea = document.getElementById('bottom-toolbar');
        toolbarArea.style.left = (toolbarArea.parentElement.parentElement.clientWidth / 2) - (toolbarArea.clientWidth / 2) + 'px';
        refreshToolbar('main');
    };
    function onTopToolbarCreated() {
        var toolbarArea = document.getElementById('top-toolbar');
        toolbarArea.style.left = (toolbarArea.parentElement.parentElement.clientWidth / 2) - (toolbarArea.clientWidth / 2) + 'px';
    }
    function onBottomToolbarCreated() {
        renderAnnotationBtn(); createFontColor();
        createShapeColor();
        createPenColor();
        var toolbarArea = document.getElementById('top-toolbar');
        toolbarArea.style.left = (toolbarArea.parentElement.parentElement.clientWidth / 2) - (toolbarArea.clientWidth / 2) + 'px';
    }

    function onFilterToolbarCreated() {
        var inMemoryCanvas = document.createElement('canvas');
        var inMemoryContext = inMemoryCanvas.getContext('2d');
        inMemoryCanvas.width = imageData.width; inMemoryCanvas.height = imageData.height;
        inMemoryContext.putImageData(imageData, 0, 0);
        updateFilterCanvas('_defaultCanvas', 'default', inMemoryCanvas);
        updateFilterCanvas('_chromeCanvas', 'chrome', inMemoryCanvas);
        updateFilterCanvas('_coldCanvas', 'cold', inMemoryCanvas);
        updateFilterCanvas('_warmCanvas', 'warm', inMemoryCanvas);
        updateFilterCanvas('_grayscaleCanvas', 'grayscale', inMemoryCanvas);
        updateFilterCanvas('_sepiaCanvas', 'sepia', inMemoryCanvas);
        updateFilterCanvas('_invertCanvas', 'invert', inMemoryCanvas);
    }
    function toolbarClicked(args) {
        var item = args.item.id.toLowerCase();
        var dimension = imageEditorObj.getImageDimension();
        var imageData;
        var canvas;
        switch (item) {
            case 'back':
                apply();
                refreshToolbar('main');
                break;
            case 'cancel':
                isTextEditing = false;
                if (currentToolbar === 'main') {
                    document.getElementById('image-editor-container').style.display = 'none';
                    document.getElementById('imagePreviewContainer').style.display = 'block';
                    imageEditorObj.reset();
                }
                else {
                    if ((isShapeCustomizing || isShapeSelected) && tempShapeSettings && tempShapeSettings.id) {
                        imageEditorObj.updateShape(tempShapeSettings);
                    }
                    imageEditorObj.clearSelection(true);
                    refreshToolbar('main');
                }
                break;
            case 'undo':
                if (currentToolbar === 'pen') {
                    imageEditorObj.freeHandDraw(false);
                }
                isTextEditing = false;
                imageEditorObj.undo();
                refreshToolbar('main');
                break;
            case 'redo':
                if (currentToolbar === 'pen') {
                    imageEditorObj.freeHandDraw(false);
                }
                isTextEditing = false;
                imageEditorObj.redo();
                refreshToolbar('main');
                break;
            case 'ok':
                isTextEditing = false;
                if (currentToolbar === 'main') {
                    imageData = imageEditorObj.getImageData();
                    canvas = document.createElement('canvas');
                    canvas.width = imageData.width;
                    canvas.height = imageData.height;
                    canvas.getContext('2d').putImageData(imageData, 0, 0);
                    document.getElementById('previewImgContainer').src = canvas.toDataURL();
                    imageEditorObj.open(imageData);
                    document.getElementById('image-editor-container').style.display = 'none';
                    document.getElementById('imagePreviewContainer').style.display = 'block';
                }
                else {
                    apply();
                    refreshToolbar('main');
                }
                break;
            case 'cropandtransform':
                imageEditorObj.select('custom');
                refreshToolbar('crop');
                break;
            case 'rotateleft':
                imageEditorObj.rotate(-90);
                break;
            case 'rotateright':
                imageEditorObj.rotate(90);
                break;
            case 'addtext':
                imageEditorObj.drawText(dimension.x + (dimension.width / 2) - 65, dimension.y + (dimension.height / 2) - 15, 'Add Text', 'Arial', 30, false, false, '#fff', true);
                isShapeSelected = true;
                refreshToolbar('text');
                break;
            case 'remove':
                if ((0, ejs.base.isNullOrUndefined)(activeObjIndex) && tempShapeSettings && tempShapeSettings.id) {
                    activeObjIndex = tempShapeSettings.id;
                }
                if (isTextEditing) {
                    tempShapeSettings = imageEditorObj.getShapeSetting(activeObjIndex);
                    activeObjIndex = tempShapeSettings.id;
                }
                imageEditorObj.deleteShape(activeObjIndex);
                refreshToolbar('main');
                break;
            case 'edittext':
                isTextEditing = true;
                imageEditorObj.enableTextEditing();
                refreshToolbar('edittext');
                break;
            case 'addpen':
                imageEditorObj.freeHandDraw(true);
                refreshToolbar('pen');
                break;
            case 'filters':
                refreshToolbar('filter');
                break;
        }
    }
    function refreshToolbar(type, isEvent) {
        var toolbar = (0, ejs.base.getComponent)('bottom-toolbar', 'toolbar');
        var items = [];
        var filterToolbar;
        var itemModel;
        var dimension = imageEditorObj.getImageDimension();
        ;
        var shapeSettings;
        document.getElementById('filter-toolbar').style.display = 'none';
        currentToolbar = type;
        switch (type) {
            case 'main':
                items = ['cropAndTransform', 'addText', 'shapes', 'addPen', 'filters'];
                break;
            case 'crop':
                items = ['rotateLeft', 'rotateRight'];
                break;
            case 'text':
            case 'edittext':
                items = ['back', 'fontColor', 'remove', 'editText'];
                break;
            case 'rectangle':
                items = ['back', 'fillColor', 'strokeColor', 'remove'];
                if (!isEvent) {
                    imageEditorObj.drawRectangle(dimension.x + (dimension.width / 2) - 100, dimension.y + (dimension.height / 2) - 50, 200, 100, 2, '#fff', null, null, true);
                    isShapeSelected = true;
                }
                break;
            case 'ellipse':
                items = ['back', 'fillColor', 'strokeColor', 'remove'];
                if (!isEvent) {
                    imageEditorObj.drawEllipse(dimension.x + (dimension.width / 2) - 100, dimension.y + (dimension.height / 2) - 50, 100, 50, 2, '#fff', null, null, true);
                    isShapeSelected = true;
                }
                break;
            case 'line':
                items = ['back', 'strokeColor', 'remove'];
                if (!isEvent) {
                    imageEditorObj.drawLine(dimension.x + (dimension.width / 2) - 200, dimension.y + (dimension.height / 2) - 100, dimension.x + (dimension.width / 2) + 200, dimension.y + (dimension.height / 2) + 100, 2, '#fff', true);
                    isShapeSelected = true;
                }
                break;
            case 'pen':
            case 'freehanddraw':
                items = ['back', 'penStrokeColor', 'remove'];
                break;
            case 'filter':
                document.getElementById('filter-toolbar').style.display = 'block';
                onFilterToolbarCreated();
                items = ['default', 'chrome', 'cold', 'warm', 'grayscale', 'sepia', 'invert'];
                break;
        }
        for (var i = 0; i < toolbar.items.length; i++) {
            if (items.indexOf(toolbar.items[i].id) !== -1) {
                toolbar.items[i].visible = true;
                if (toolbar.items[i].id.toLowerCase() === 'edittext') {
                    if (type === 'edittext') {
                        toolbar.items[i].disabled = true;
                        setTimeout(function() {
                            document.querySelector('.e-textarea').focus();
                        }, 1);
                    } else {
                        toolbar.items[i].disabled = false;
                    }
                }
            }
            else {
                toolbar.items[i].visible = false;
            }
            if (toolbar.items[i].id === 'remove') {
                if (type === 'pen') {
                    toolbar.items[i].disabled = true;
                }
                else {
                    toolbar.items[i].disabled = false;
                }
            }
        }
        var enableUndo = imageEditorObj.canUndo();
        var enableRedo = imageEditorObj.canRedo();
        var topToolbar = (0, ejs.base.getComponent)('top-toolbar', 'toolbar');
        for (var i = 0; i < topToolbar.items.length; i++) {
            if (topToolbar.items[i].id === 'undo') {
                topToolbar.items[i].disabled = !enableUndo;
            }
            else if (topToolbar.items[i].id === 'redo') {
                topToolbar.items[i].disabled = !enableRedo;
            }
            else if (topToolbar.items[i].id === 'ok') {
                if (currentToolbar === 'main') {
                    topToolbar.items[i].visible = true;
                    topToolbar.items[i].tooltipText = 'Save';
                    topToolbar.items[i].prefixIcon = 'e-icons e-save';
                }
                else if (currentToolbar === 'crop' || currentToolbar === 'filter') {
                    topToolbar.items[i].visible = true;
                    topToolbar.items[i].tooltipText = 'Apply';
                    topToolbar.items[i].prefixIcon = 'e-icons e-check-tick';
                }
                else {
                    topToolbar.items[i].visible = false;
                }
            }
            else if (topToolbar.items[i].id === 'cancel') {
                if (currentToolbar === 'main' || currentToolbar === 'crop') {
                    topToolbar.items[i].visible = true;
                }
                else {
                    topToolbar.items[i].visible = false;
                }
            }
        }
        setTimeout(function () {
            var toolbarArea = document.getElementById('bottom-toolbar');
            toolbarArea.style.left = (toolbarArea.parentElement.parentElement.clientWidth / 2) - (toolbarArea.clientWidth / 2) + 'px';
            toolbarArea = document.getElementById('top-toolbar');
            toolbarArea.style.left = (toolbarArea.parentElement.parentElement.clientWidth / 2) - (toolbarArea.clientWidth / 2) + 'px';
        }, 1);
    }
    function updateToolbar(args, isEvent) {
        var type = args.currentShapeSettings.type.toLowerCase();
        refreshToolbar(type, isEvent);
        if (isEvent) {
            tempShapeSettings = args.currentShapeSettings;
            activeObjIndex = tempShapeSettings.id;
        }
        setTimeout(function () {
            var selFillElem = document.querySelector('.e-fill.e-template .e-dropdownbtn-preview');
            var selStrokeElem = document.querySelector('.e-stroke.e-template .e-dropdownbtn-preview');
            var selTextStrokeElem = document.querySelector('#imageEditor_fontColorBtn .e-dropdownbtn-preview');
            var selPenStrokeElem = document.querySelector('.e-pen-stroke-color.e-template .e-dropdownbtn-preview');
            if (selFillElem && (type === 'rectangle' || type === 'ellipse')) {
                if (args.currentShapeSettings.fillColor === '') {
                    selFillElem.classList.add('e-nocolor-item');
                }
                else {
                    selFillElem.classList.remove('e-nocolor-item');
                    selFillElem.style.background = args.currentShapeSettings.fillColor;
                }
                if (document.querySelector('#' + 'imageEditor_shapeFill')) {
                    (0, ejs.base.getComponent)('imageEditor_shapeFill', 'colorpicker').value = args.currentShapeSettings.fillColor;
                }
            }
            if (selStrokeElem && (type === 'rectangle' || type === 'ellipse' || type === 'line')) {
                selStrokeElem.style.background = args.currentShapeSettings.strokeColor;
                if (document.querySelector('#' + 'imageEditor_shapeStroke')) {
                    (0, ejs.base.getComponent)('imageEditor_shapeStroke', 'colorpicker').value = args.currentShapeSettings.strokeColor;
                }
            }
            if (selTextStrokeElem && type === 'text') {
                selTextStrokeElem.style.background = args.currentShapeSettings.color;
                if (document.querySelector('#' + 'imageEditor_textFont')) {
                    (0, ejs.base.getComponent)('imageEditor_textFont', 'colorpicker').value = args.currentShapeSettings.color;
                }
            }
            if (selPenStrokeElem && type === 'freehanddraw') {
                selPenStrokeElem.style.background = args.currentShapeSettings.strokeColor;
                if (document.querySelector('#' + 'imageEditor_penStroke')) {
                    (0, ejs.base.getComponent)('imageEditor_penStroke', 'colorpicker').value = args.currentShapeSettings.strokeColor;
                }
            }
        }, 10);
    }
    function toPascalCase(text) {
        return text.charAt(0).toUpperCase() + text.slice(1);
    }
    function filterImage(args) {
        imageEditorObj.applyImageFilter(args.item.id);
        filter = args.item.id;
    }
    function renderDropDownButton(id, items, iconCss, cssClass, popup) {
        iconCss = iconCss === '' ? '' : 'e-icons ' + iconCss;
        var drpDownBtn = new ejs.splitbuttons.DropDownButton({
            items: items, iconCss: iconCss, cssClass: cssClass,
            createPopupOnClick: popup,
            open: function (args) {
                if (ejs.base.Browser.isDevice) {
                    args.element.parentElement.style.top = drpDownBtn.element.getBoundingClientRect().top - args.element.parentElement.offsetHeight + 'px';
                }
            },
            select: function (args) {
                refreshToolbar(args.item.id);
            }
        });
        drpDownBtn.appendTo('#' + id);
    }
    function renderColorPicker(type, id, value, cssClass, noColor, mode, inline, showButtons, target, iconCss, ddbCssClass, ddbId, dropdownPreview, colors) {
        var colorpicker = new ejs.inputs.ColorPicker({
            modeSwitcher: false, noColor: noColor, value: value, inline: inline,
            showButtons: showButtons, mode: mode, cssClass: cssClass,
            presetColors: colors,
            columns: 4,
            change: function (args) {
                isShapeCustomizing = true;
                if (type === 'pen-color') {
                    if (tempShapeSettings && tempShapeSettings.id && tempShapeSettings.id.split('_')[0] === 'pen') {
                        var shapeSetting = {
                            id: tempShapeSettings.id, type: ejs.imageeditor.ShapeType.FreehandDraw,
                            startX: tempShapeSettings.startX, startY: tempShapeSettings.startY,
                            strokeColor: args.currentValue.hex, strokeWidth: tempShapeSettings.strokeWidth,
                            opacity: tempShapeSettings.opacity, points: tempShapeSettings.points
                        };
                        imageEditorObj.updateShape(shapeSetting, true);
                        tempShapeSettings.strokeColor = args.currentValue.hex;
                        isShapeSelected = true;
                    }
                    else {
                        var shapeSetting = {
                            id: null, type: ejs.imageeditor.ShapeType.FreehandDraw, startX: null, startY: null,
                            strokeColor: args.currentValue.hex
                        };
                        imageEditorObj.updateShape(shapeSetting);
                    }
                }
                else {
                    var shapeSetting = imageEditorObj.getShapeSetting(activeObjIndex);
                    if (type === 'font-color') {
                        shapeSetting.color = args.value;
                    }
                    else if (type === 'shape-fill') {
                        shapeSetting.fillColor = args.value;
                    }
                    else if (type === 'shape-stroke') {
                        shapeSetting.strokeColor = args.value;
                    }
                    tempShapeSettings = shapeSetting;
                    imageEditorObj.updateShape(shapeSetting, true);
                    isShapeSelected = true;
                    if (isTextEditing) {
                        imageEditorObj.enableTextEditing();
                    }
                }
                isShapeCustomizing = false;
                if (type === 'shape-fill') {
                    if (args.currentValue.rgba === '') {
                        dropdownBtn.element.children[0].classList.add('e-nocolor-item');
                    }
                    else {
                        dropdownBtn.element.children[0].classList.remove('e-nocolor-item');
                        dropdownBtn.element.children[0].style.backgroundColor = args.currentValue.rgba;
                    }
                }
                else {
                    dropdownBtn.element.children[0].style.backgroundColor = args.currentValue.rgba;
                }
                dropdownBtn.toggle();
            },
            beforeClose: function () {
                dropdownBtn.toggle();
            }
        }, '#' + id);
        var dropdownBtn = new ejs.splitbuttons.DropDownButton({
            open: function (args) {
                var parenElem = args.element.parentElement;
                if (ejs.base.Browser.isDevice) {
                    parenElem.style.top = dropdownBtn.element.getBoundingClientRect().top -
                        parenElem.offsetHeight + 'px';
                    parenElem.style.left = args.element.parentElement.offsetLeft + 'px';
                }
            },
            target: target,
            iconCss: iconCss,
            cssClass: ddbCssClass
        }, '#' + ddbId);
        colorpicker.inline = true;
        colorpicker.value = colorpicker.getValue(colorpicker.value, 'rgba');
        if (type === 'shape-fill') {
            document.querySelector(dropdownPreview).classList.add('e-nocolor-item');
        }
        else {
            document.querySelector(dropdownPreview).style.background = colorpicker.value;
        }
    }
    function renderAnnotationBtn() {
        var items = [
            { text: 'Rectangle', id: 'rectangle', iconCss: 'e-icons e-rectangle' },
            { text: 'Ellipse', id: 'ellipse', iconCss: 'e-icons e-circle' },
            { text: 'Line', id: 'line', iconCss: 'e-icons e-line' }
        ];
        renderDropDownButton('imageEditor' + '_annotationButton', items, 'e-shapes', 'e-image-popup', false);
    }
    function createFontColor() {
        document.querySelector('.e-template.e-text-fontColor').appendChild(imageEditorObj.createElement('input', {
            id: 'imageEditor_textFont'
        }));
        renderColorPicker('font-color', 'imageEditor_textFont', tempShapeSettings && tempShapeSettings.color != null ? tempShapeSettings.color : '#fff', 'e-text-font-color', false, 'Palette', true, false, '.e-text-font-color', 'e-dropdownbtn-preview', 'e-ie-ddb-popup', 'imageEditor_fontColorBtn', '.e-text-fontColor.e-template .e-dropdownbtn-preview', presetColors);
    }
    function createShapeColor() {
        var parent = imageEditorObj;
        var id = 'imageEditor';
        document.querySelector('.e-template.e-fill').appendChild(parent.createElement('input', {
            id: id + '_shapeFill'
        }));
        var colors = ejs.base.extend({}, presetColors, {}, true);
        colors['custom'][0] = '';
        document.querySelector('.e-template.e-stroke').appendChild(parent.createElement('input', {
            id: id + '_shapeStroke'
        }));
        renderColorPicker('shape-fill', 'imageEditor_shapeFill', '', 'e-shape-fill-color', true, 'Palette', true, false, '.e-shape-fill-color', 'e-dropdownbtn-preview', 'e-ie-ddb-popup', 'imageEditor_fillColorBtn', '.e-fill.e-template .e-dropdownbtn-preview', colors);
        renderColorPicker('shape-stroke', 'imageEditor_shapeStroke', '#fff', 'e-shape-stroke-color', false, 'Palette', true, false, '.e-shape-stroke-color', 'e-dropdownbtn-preview', 'e-ie-ddb-popup', 'imageEditor_borderColorBtn', '.e-stroke.e-template .e-dropdownbtn-preview', presetColors);
    }
    function createPenColor() {
        var parent = imageEditorObj;
        var id = 'imageEditor';
        document.querySelector('.e-template.e-pen-stroke-color').appendChild(parent.createElement('input', {
            id: id + '_pen_stroke'
        }));
        renderColorPicker('pen-color', 'imageEditor_pen_stroke', '#fff', 'e-pen-color', false, 'Palette', true, false, '.e-pen-color', 'e-dropdownbtn-preview', 'e-ie-ddb-popup', 'imageEditor_penColorBtn', '.e-pen-stroke-color.e-template .e-dropdownbtn-preview', presetColors);
    }
    function createCanvasFilter() {
        var inMemoryCanvas = document.createElement('canvas');
        var inMemoryContext = inMemoryCanvas.getContext('2d');
        inMemoryCanvas.width = imageData.width;
        inMemoryCanvas.height = imageData.height;
        inMemoryContext.putImageData(imageData, 0, 0);
        updateFilterCanvas('_defaultCanvas', 'default', inMemoryCanvas);
        updateFilterCanvas('_chromeCanvas', 'chrome', inMemoryCanvas);
        updateFilterCanvas('_coldCanvas', 'cold', inMemoryCanvas);
        updateFilterCanvas('_warmCanvas', 'warm', inMemoryCanvas);
        updateFilterCanvas('_grayscaleCanvas', 'grayscale', inMemoryCanvas);
        updateFilterCanvas('_sepiaCanvas', 'sepia', inMemoryCanvas);
        updateFilterCanvas('_invertCanvas', 'invert', inMemoryCanvas);
    }
    function updateFilterCanvas(selector, type, inMemoryCanvas) {
        var filter = document.querySelector('#imageEditor' + selector);
        if (filter) {
            var ctx = filter.getContext('2d');
            ctx = filter.getContext('2d');
            filter.style.width = '100px';
            filter.style.height = '100px';
            ctx.filter = imageEditorObj.getImageFilter(toPascalCase(type));
            ctx.drawImage(inMemoryCanvas, 0, 0, 300, 150);
        }
    }
    function keyDownEventHandler(e) {
        if (e.ctrlKey && (e.key === '+' || e.key === '-')) {
            e.preventDefault();
        }
        switch (e.key) {
            case (e.ctrlKey && 's'):
                imageEditorObj.export();
                break;
            case (e.ctrlKey && 'z'):
                isTextEditing = false;
                refreshToolbar('main');
                break;
            case (e.ctrlKey && 'y'):
                isTextEditing = false;
                refreshToolbar('main');
                break;
            case 'Delete':
                if ((0, ejs.base.isNullOrUndefined)(activeObjIndex) && tempShapeSettings && tempShapeSettings.id) {
                    activeObjIndex = tempShapeSettings.id;
                }
                if (activeObjIndex) {
                    imageEditorObj.deleteShape(activeObjIndex);
                }
                refreshToolbar('main');
                break;
            case 'Escape':
                if (currentToolbar === 'crop') {
                    imageEditorObj.clearSelection(true);
                    refreshToolbar('main');
                }
                break;
            case 'Enter':
                if (!e.target.closest('.e-textarea')) {
                    apply();
                    refreshToolbar('main');
                }
                break;
        }
    }
    function doubleClickEvent(e) {
        if (e.type === 'dblclick' && e.target.closest('.e-textarea')) {
            isTextEditing = true;
        }
    }
    function apply() {
        if (currentToolbar === 'crop') {
            imageEditorObj.crop();
        }
        else if (currentToolbar === 'pen') {
            if (activeObjIndex && activeObjIndex.split('_')[0] === 'pen') {
                tempShapeSettings = imageEditorObj.getShapeSetting(activeObjIndex);
            }
            else {
                var shapeSettings = imageEditorObj.getShapeSettings();
                if (shapeSettings.length > 0) {
                    tempShapeSettings = shapeSettings[shapeSettings.length - 1].id.split('_')[0] === 'pen' ? shapeSettings[shapeSettings.length - 1] : null;
                    if (tempShapeSettings) {
                        imageEditorObj.selectShape(tempShapeSettings.id);
                    } else {
                        imageEditorObj.freeHandDraw(false);
                    }
                } else {
                    imageEditorObj.freeHandDraw(false);
                    return;
                }
            }
            if (tempShapeSettings) {
                imageEditorObj.updateShape(tempShapeSettings);
            }
        } else if (currentToolbar === 'freehanddraw' && tempShapeSettings) {
            imageEditorObj.updateShape(tempShapeSettings);
        } else if (currentToolbar !== 'filter' && activeObjIndex) {
            tempShapeSettings = imageEditorObj.getShapeSetting(activeObjIndex);
            imageEditorObj.updateShape(tempShapeSettings);
        }
        tempShapeSettings = null; activeObjIndex = null;
    }
    </script>
}

@section Meta {
    <meta name="description" content="Image Editor" />
}

@section ActionDescription {
    <div id="action-description">
        <p>This sample demonstrates a custom toolbar using the Image Editor Control.</p>
    </div>
}

@section Description {
    <div id="description">
        <p>
            The Image Editor component provides built-in support for adding a custom toolbar through APIs in the following ways:
        </p>
        <ul>
            <li><b>Selection</b> : Multiple selection options are available. The selection region can be a square or circle, customized to various aspects ratios, and customized by dragging and resizing.</li>
            <li><b>Crop</b> : The image can be cropped based on the selection.</li>
            <li><b>Rotate</b> : The image can be rotated both clockwise and anticlockwise by 90 degrees.</li>
            <li><b>Freehand drawing</b> : Draw freehand on the image and adjust the pen's stroke width and stroke color.</li>
            <li><b>Get Image data</b> : Retrieves the edited image in image data format.</li>
            <li><b>Annotation</b> : Text, rectangle, ellipse, and line annotation shapes are supported.</li>
            <li><b>Filters</b> : The predefined filters such as chrome, cold, warm, grayscale, sepia, and invert can be applied to the image.</li>
        </ul>
        <p>
            More information about Image Editor can be found in this
            <a target="_blank" href="https://ej2.syncfusion.com/aspnetcore/documentation/image-editor/getting-started "aria-label="Navigate to the documentation for Getting Started with ASP.NET Core Image Editor Control" > Documentation section</a>.
        </p>
    </div>
}

@*custom code start*@
<style>
    .customToolbar .e-image-editor {
        margin: 0 auto;
    }

    .e-img-editor-sample {
        height: 80vh;
        width: 100%;
    }

    .customToolbar {
        height: 100%;
        border: 1px solid #D9D9D9;
        border-radius: 10px;
    }

    .customToolbar .button-container {
        display: flex;
        left: calc(50% - 26px);
        position: absolute;
        bottom: 20px;
    }

    .customToolbar .image-preview-container {
        height: calc(100% - 40px);
        text-align: center;
        position: relative;
    }

    .customToolbar .preview-img-container {
        max-width: 100%;
        max-height: 100%;
        padding: 20px;
        margin: 0 auto;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }

    .customToolbar .image-editor-container {
        height: calc(100% - 40px);
        position: relative;
    }

    .customToolbar .image-editor-container .e-image-editor {
        height: 100% !important;
    }

    .customToolbar #top-toolbarArea {
        position: absolute;
        top: 20px;
        z-index: 1;
    }

    .customToolbar #top-toolbar {
        border-radius: 8px;
    }

    .customToolbar #bottom-toolbarArea {
        position: absolute;
        bottom: 70px;
        z-index: 1;
        width: 100% !important;
    }

    .customToolbar #bottom-toolbar {
        position: absolute;
        border-radius: 8px;
    }

    .customToolbar #filter-toolbar {
        height: 130px !important;
        display: none;
        top: 50px;
    }

    .button-container button:hover, .message button:hover {
        color: #fff;
        cursor: pointer;
    }

    .custom-button {
        padding: 8px;
        margin: 10px;
        background: #6750a4 !important;
        color: #fff;
        border: none;
        cursor: pointer;
    }

    .control-wrapper {
        height: 100%;
        border: 1px solid #D9D9D9;
        border-radius: 10px;
    }

    .customToolbar .e-toolbar .e-toolbar-items .e-dropdown-btn .e-caret-hide {
        display: none !important; /* stylelint-disable-line declaration-no-important */
    }

    .customToolbar .e-dropdown-btn,
    .customToolbar .e-dropdown-btn.e-btn {
        box-shadow: none;
        background-color: rgba(184, 184, 184, 0.9584);
        background: inherit;
    }

    .customToolbar .e-toolbar .e-toolbar-items .e-dropdown-btn:hover {
        background: rgba(0, 0, 0, 0.12);
        box-shadow: none;
        color: rgba(0, 0, 0, 0.87);
    }

    .customToolbar .e-toolbar .e-toolbar-items .e-dropdown-btn:focus {
        background: rgba(0, 0, 0, 0.18);
        box-shadow: none;
        color: rgba(0, 0, 0, 0.87);
    }

    .customToolbar .e-toolbar .e-toolbar-items .e-dropdown-btn:active {
        background: rgba(184, 184, 184, 0.9584);
        box-shadow: none;
        color: rgba(0, 0, 0, 0.87);
    }

    .customToolbar .e-toolbar .e-toolbar-items .e-colorpicker-wrapper.e-shape-fill-color .e-split-btn-wrapper .e-split-btn .e-selected-color,
    .customToolbar .e-image-editor .e-toolbar .e-toolbar-items .e-colorpicker-wrapper.e-shape-stroke-color .e-split-btn-wrapper .e-split-btn .e-selected-color,
    .customToolbar .e-image-editor .e-toolbar .e-toolbar-items .e-colorpicker-wrapper.e-text-stroke-color .e-split-btn-wrapper .e-split-btn .e-selected-color,
    .customToolbar .e-image-editor .e-toolbar .e-toolbar-items .e-colorpicker-wrapper.e-pen-stroke-color .e-split-btn-wrapper .e-split-btn .e-selected-color {
        background: none;
        border-bottom-style: solid;
        border-bottom-width: 3px;
        width: 14px;
        margin: 0 2px;
        border-bottom-color: #000;
    }

    .customToolbar .e-toolbar .e-toolbar-items .e-colorpicker-wrapper.e-shape-fill-color .e-split-btn-wrapper .e-split-btn .e-selected-color .e-split-preview,
    .customToolbar .e-image-editor .e-toolbar .e-toolbar-items .e-colorpicker-wrapper.e-shape-stroke-color .e-split-btn-wrapper .e-split-btn .e-selected-color .e-split-preview,
    .customToolbar .e-image-editor .e-toolbar .e-toolbar-items .e-colorpicker-wrapper.e-text-stroke-color .e-split-btn-wrapper .e-split-btn .e-selected-color .e-split-preview,
    .customToolbar .e-image-editor .e-toolbar .e-toolbar-items .e-colorpicker-wrapper.e-pen-stroke-color .e-split-btn-wrapper .e-split-btn .e-selected-color .e-split-preview {
        display: none;
    }

    .customToolbar .e-nocolor-item {
        background: transparent url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNnB4IiBoZWlnaHQ9IjZweCIgdmlld0JveD0iMCAwIDYgNiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTAgKDU0OTgzKSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5Hcm91cCA5PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+PC9kZWZzPgogICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9Ikdyb3VwLTkiPgogICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLTExIiBmaWxsPSIjRTBFMEUwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMyIgaGVpZ2h0PSIzIj48L3JlY3Q+CiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtMTEtQ29weS0yIiBmaWxsPSIjRkZGRkZGIiB4PSIwIiB5PSIzIiB3aWR0aD0iMyIgaGVpZ2h0PSIzIj48L3JlY3Q+CiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtMTEtQ29weSIgZmlsbD0iI0ZGRkZGRiIgeD0iMyIgeT0iMCIgd2lkdGg9IjMiIGhlaWdodD0iMyI+PC9yZWN0PgogICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLTExLUNvcHktMyIgZmlsbD0iI0UwRTBFMCIgeD0iMyIgeT0iMyIgd2lkdGg9IjMiIGhlaWdodD0iMyI+PC9yZWN0PgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+") !important; /* stylelint-disable-line declaration-no-important */
        background-size: 8px !important; /* stylelint-disable-line declaration-no-important */
    }

    .customToolbar .e-bigger .e-toolbar .e-toolbar-items .e-btn-icon.e-dropdownbtn-preview,
    .customToolbar .e-bigger .e-toolbar .e-toolbar-items .e-btn-icon.e-dropdownbtn-preview {
        margin-top: -3px !important; /* stylelint-disable-line declaration-no-important */
        margin-left: -1px;
    }

    .customToolbar .e-toolbar .e-toolbar-items .e-btn-icon.e-dropdownbtn-preview {
        height: 18px;
        width: 18px;
        margin-top: -4px !important; /* stylelint-disable-line declaration-no-important */
        margin-left: -1px;
    }

    .customToolbar .e-fill.e-template .e-caret::before {
        content: "\e783";
        font-size: 14px;
    }

    .customToolbar .e-stroke.e-template .e-caret::before,
    .customToolbar .e-frame-stroke.e-template .e-caret::before,
    .customToolbar .e-pen-stroke-color.e-template .e-caret::before {
        content: "\e739";
        font-size: 14px;
    }

    .customToolbar .e-folder-open {
        border: none !important;
        font-size: 18px !important;
    }

    .customToolbar .e-btn .e-btn-icon.e-icon-left {
        margin-left: 0px !important;
    }

    .customToolbar .e-dropdown-popup ul #calibri {
        font-family: 'Calibri';
    }

    #edit {
        background-color: #6750a4 !important;
    }

    .header {
        max-width: 100%;
        background-color: #6750a4;
        padding: 10px;
        border-radius: 10px 10px 0 0;
        word-wrap: break-word;
        align-items: center;
    }

    .header-name {
        color: #fff;
    }

    #imageEditor {
        height: 100%;
    }

    .customToolbar .e-free-pen::before {
        content: "\e7db";
    }

    .fluent .customToolbar .e-dropdown-btn, .e-dropdown-btn.e-btn,
    .fluent .customToolbar .e-toolbar .e-toolbar-item .e-tbar-btn:hover,
    .fluent .customToolbar .e-toolbar .e-toolbar-item .e-tbar-btn:focus,
    .fluent-dark .customToolbar .e-dropdown-btn, .e-dropdown-btn.e-btn,
    .fluent-dark .customToolbar .e-toolbar .e-toolbar-item .e-tbar-btn:hover,
    .fluent-dark .customToolbar .e-toolbar .e-toolbar-item .e-tbar-btn:focus {
        border: none !important;
    }

    .bootstrap5\.3-dark .customToolbar #edit,
    .fluent2-highcontrast .customToolbar #edit,
    .fabric-dark .customToolbar #edit,
    .highcontrast .customToolbar #edit,
    .bootstrap5-dark .customToolbar #edit,
    .fluent-dark .customToolbar #edit,
    .tailwind-dark .customToolbar #edit,
    .material-dark .customToolbar #edit,
    .material3-dark .customToolbar #edit,
    .bootstrap-dark .customToolbar #edit {
        color: #fff;
    }

    .fluent-dark .customToolbar .e-toolbar .e-toolbar-items .e-dropdown-btn:focus,
    .fluent-dark .customToolbar .e-toolbar .e-toolbar-items .e-dropdown-btn:hover,
    .fluent-dark .customToolbar .e-toolbar .e-toolbar-items .e-dropdown-btn {
        color: rgb(161, 159, 157);
    }

    .material .customToolbar #edit,
    .material-dark .customToolbar #edit {
        text-transform: capitalize;
    }

    .fluent .customToolbar .e-toolbar .e-toolbar-item .e-tbar-btn:focus,
    .fluent-dark .customToolbar .e-toolbar .e-toolbar-item .e-tbar-btn:focus {
        box-shadow: none !important;
    }

    .bootstrap5 .customToolbar .e-toolbar-item.e-template .e-dropdown-btn {
        color: #6c757d !important;
    }

    .bootstrap4 .customToolbar .e-toolbar-item.e-template .e-dropdown-btn {
        color: rgb(73, 80, 87) !important;
    }

    .fabric-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:hover,
    .fabric-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:focus,
    .fluent-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:hover,
    .fluent-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:focus,
    .bootstrap5\.3-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:hover,
    .bootstrap5\.3-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:focus,
    .fluent2-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:hover,
    .fluent2-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:focus,
    .material-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:hover,
    .material-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:focus,
    .fluent2-highcontrast .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:focus,
    .fluent2-highcontrast .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:hover,
    .bootstrap-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:hover,
    .bootstrap-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:focus,
    .bootstrap5-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:hover,
    .bootstrap5-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:focus,
    .material3-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:hover,
    .material3-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:focus,
    .tailwind-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:hover,
    .tailwind-dark .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:focus,
    .highcontrast .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:hover,
    .highcontrast .customToolbar .e-toolbar-item.e-template .e-dropdown-btn:focus {
        color: #fff !important;
    }

    .highcontrast .customToolbar .e-free-pen::before {
        content: "\e739";
    }

    .highcontrast .customToolbar .e-toolbar-item.e-template .e-dropdown-btn.e-btn.e-active {
        color: #fff !important;
    }

    .material .customToolbar .e-free-pen::before,
    .material-dark .customToolbar .e-free-pen::before,
    .fabric .customToolbar .e-free-pen::before,
    .fabric-dark .customToolbar .e-free-pen::before {
        content: "\e737";
    }

    .bootstrap .customToolbar .e-free-pen::before,
    .bootstrap-dark .customToolbar .e-free-pen::before {
        content: "\e767";
    }

    .bootstrap4 .customToolbar .e-free-pen::before {
        content: "\e756";
    }

    .bootstrap5 .customToolbar .e-fill.e-template .e-caret::before,
    .bootstrap-dark .customToolbar .e-fill.e-template .e-caret::before,
    .bootstrap5 .customToolbar .e-stroke.e-template .e-caret::before,
    .bootstrap-dark .customToolbar .e-stroke.e-template .e-caret::before,
    .bootstrap5 .customToolbar .e-text-font-color.e-template .e-caret::before,
    .bootstrap-dark .customToolbar .e-text-font-color.e-template .e-caret::before {
        font-size: 14px;
    }

    .material .customToolbar .e-fill.e-template .e-caret::before,
    .material-dark .customToolbar .e-fill.e-template .e-caret::before,
    .fabric .customToolbar .e-fill.e-template .e-caret::before,
    .fabric-dark .customToolbar .e-fill.e-template .e-caret::before,
    .bootstrap .customToolbar .e-fill.e-template .e-caret::before,
    .bootstrap-dark .customToolbar .e-fill.e-template .e-caret::before,
    .highcontrast .customToolbar .e-fill.e-template .e-caret::before {
        content: "\e35c" !important;
        font-size: 14px;
    }

    .material .customToolbar .e-stroke.e-template .e-caret::before,
    .material-dark .customToolbar .e-stroke.e-template .e-caret::before,
    .material .customToolbar .e-text-font-color.e-template .e-caret::before,
    .material-dark .customToolbar .e-text-font-color.e-template .e-caret::before {
        content: "\ec15";
        font-size: 14px;
    }

    .fabric .customToolbar .e-stroke.e-template .e-caret::before,
    .fabric-dark .customToolbar .e-stroke.e-template .e-caret::before,
    .fabric .customToolbar .e-text-font-color.e-template .e-caret::before,
    .fabric-dark .customToolbar .e-text-font-color.e-template .e-caret::before {
        content: "\ebee";
        font-size: 14px;
    }

    .bootstrap .customToolbar .e-stroke.e-template .e-caret::before,
    .bootstrap-dark .customToolbar .e-stroke.e-template .e-caret::before,
    .bootstrap .customToolbar .e-text-font-color.e-template .e-caret::before,
    .bootstrap-dark .customToolbar .e-text-font-color.e-template .e-caret::before {
        content: "\ebc6" !important;
        font-size: 14px !important;
    }

    .highcontrast .customToolbar .e-stroke.e-template .e-caret::before,
    .highcontrast .customToolbar .e-text-font-color.e-template .e-caret::before {
        content: "\eb6e" !important;
        font-size: 14px !important;
    }

    .customToolbar .e-image-editor {
        border: none !important;
    }

</style>
@*custom code end*@

@section Title {
    <title>ASP.NET Core Image Editor Custom Toolbar Example - Syncfusion Demos </title>
}
@section Header {
    <h1 class='sb-sample-text'>Example of Custom Toolbar in ASP.NET Core Image Editor Control</h1>
}
