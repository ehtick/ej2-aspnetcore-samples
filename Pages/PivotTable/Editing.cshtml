@page

@using EJ2CoreSampleBrowser.Models
@using Syncfusion.EJ2.PivotView
@section Meta{
                    <meta name="description" content="This example demonstrates the Editing in ASP.NET Core Pivot Table control. Explore here for more details."/>
}

@{
    var data = new PivotTableData().GetPivot_Data();
}
@section ControlsSection{

    <div class="col-lg-9 control-section">
        <div class="content-wrapper">
            <ejs-pivotview id="pivotview" width="100%" height="290" showTooltip="false">
                <e-datasourcesettings dataSource="@data" expandAll="false" enableSorting="true">
                    <e-formatsettings>
                        <e-field name="Amount" format="C0" maximumSignificantDigits="10" minimumSignificantDigits="1" useGrouping="true"></e-field>
                    </e-formatsettings>
                    <e-rows>
                        <e-field name="Country"></e-field>
                        <e-field name="Product_Categories" caption="Product Categories"></e-field>
                        <e-field name="Products"></e-field>
                    </e-rows>
                    <e-columns>
                        <e-field name="Year"></e-field>
                        <e-field name="Quarter"></e-field>
                        <e-field name="Order_Source" caption="Order Source"></e-field>
                    </e-columns>
                    <e-values>
                        <e-field name="In_Stock" caption="In Stock"></e-field>
                        <e-field name="Sold" caption="Units Sold"></e-field>
                        <e-field name="Amount" caption="Sold Amount"></e-field>
                    </e-values>
                </e-datasourcesettings>
                <e-gridSettings columnWidth="140"></e-gridSettings>
                <e-editSettings allowEditing= "true" allowAdding= "true" allowDeleting= "true" mode= "Normal"></e-editSettings>
            </ejs-pivotview>
        </div>
    </div>
    <div class="col-lg-3 property-section">
        <table id="property" title="Properties" style="width: 100%;height:100%;">
            <tbody>
                <tr style="height: 50px">
                    <td>
                        <div>
                            <ejs-radiobutton id="inline" label="inline Editing" name="EditOperation" checked="true" change="onChange"></ejs-radiobutton>
                        </div>
                    </td>
                </tr>
                <tr style="height: 50px">
                    <td>
                        <div>
                            <ejs-radiobutton id="batch" label="Batch Editing" name="EditOperation" checked="false" change="onChange"></ejs-radiobutton>
                        </div>
                    </td>
                </tr>
                <tr style="height: 50px">
                    <td>
                        <div>
                            <ejs-radiobutton id="dialog" label="Dialog Editing" name="EditOperation" checked="false" change="onChange"></ejs-radiobutton>
                        </div>
                    </td>
                </tr>
                <tr style="height: 50px">
                    <td>
                        <div>
                            <ejs-radiobutton id="cc" label="Command Columns" name="EditOperation" checked="false" change="onChange"></ejs-radiobutton>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <style>
        #pivotview {
            width: 100%;
            height: 100%;
        }
        .sb-sample-content-area {
            min-height: 255px !important;
        }
        .control-section {
            min-height: 255px !important;
        }
    </style>
    <script>
        function onChange(args) {
            var id = args.event.target.id;
            var pivotObj = document.getElementById('pivotview').ej2_instances[0];
            if (id === 'inline') {
                pivotObj.editSettings.allowCommandColumns = false;
                pivotObj.editSettings.mode = "Normal";
            }
            else if (id === 'batch') {
                pivotObj.editSettings.allowCommandColumns = false;
                pivotObj.editSettings.mode = "Batch";
            }
            else if (id === 'dialog') {
                pivotObj.editSettings.allowCommandColumns = false;
                pivotObj.editSettings.mode = "Dialog";
            }
            else {
                pivotObj.editSettings.allowCommandColumns = true;
            }
        }
    </script>
}

@section PreScripts {
    <script>
        ej.base.enableRipple(false);
    </script>
}

@section ActionDescription{
    <div id="action-description">
      <p>This sample demonstrates CRUD operations performed over the raw items of any value cell in a pivot table. Different types of cell editing options are provided to make editing simpler.</p>
    </div>
}

@section Description{
    <div id="description">
      <p>
        In the sample, the raw items of any value cell can be viewed in a drill-through dialog by double-clicking the
        cell. CRUD operations can be performed by double-clicking the cells or using toolbar options. The following
        CRUD operations can be performed through toolbar operations for normal and batch edits:
      </p>
    <ul>
        <li><code>Add</code> - To add new record, click <code>Add</code> in the toolbar.</li>
        <li><code>Edit</code> - To edit record, double click a cell.</li>
        <li><code>Delete</code> - To delete a record, click <code>Delete</code> in the toolbar after selected a row.</li>
        <li><code>Update</code>,<code>Cancel</code> - You can save or discard changes by clicking <code>Update</code>
            or <code>Cancel</code> in
            the toolbar, respectively.</li>
    </ul>
    <p>This CRUD operations can be configured in a pivot table using <code>editSettings</code> in code behind. There are also
        different modes to manipulate the data source.</p>
      <p>The available modes are:</p>
      <ul>
        <li>
          <code>Normal</code> - Editing by row.
        </li>
        <li>
          <code>Batch</code> - Editing individual cells and bulk updating.
        </li>
        <li>
          <code>Dialog</code> - Editing by row with a dialog option.
        </li>
        <li>
          <code>Command Columns</code> - An additional column appends to the data grid with icons to perform CRUD
          operations. Editing using cell double-click is restricted here.
        </li>
      </ul>
    </div>
}
@section Title{
                    <title>ASP.NET Core Pivot Table Editing Example - Syncfusion Demos </title> 
                }
@section Header{
                    <h1 class='sb-sample-text'>Example of Editing in ASP.NET Core Pivot Table Control</h1>
                }